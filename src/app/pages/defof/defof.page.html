<app-hd titulo="Orden de Fabricación" (clickPost)="salir()" (addPost)="agregarOF()"></app-hd>

<ion-progress-bar *ngIf=" buscando " type="indeterminate"></ion-progress-bar>

<ion-content class="animated fadeIn">

    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content pullingIcon="chevron-down-circle-outline" pullingText="Tire para refrescar" refreshingSpinner="circles" refreshingText="Actualizando...">
        </ion-refresher-content>
    </ion-refresher>

    <ion-card class="welcome-card">
        <img src="assets/imgs/ordendefab.png" alt="x1">
    </ion-card>

    <!-- <ion-grid>
        <ion-row>
            <ion-col size="12" size-xl="3" size-lg="4" size-md="6" size-sm="6" size-xs="12" *ngFor="let orden of ordenes; let i = index;">
                <ion-item detail (click)="tratOrdenes( false, ordenes )">
                    <ion-label>
                        <h3 style="font-weight: bold; color: red"><b>{{ orden.folio }}  [ {{ orden.maquina }} - {{ orden.nombremaq }} ]</b></h3>
                        <h3 style="font-weight: bold;" color="primary">Facilitador: {{ orden.nombrefac }}</h3>
                        <p>Turno : {{ orden.turno === 'N' ? 'Noche' : ( orden.turno === 'D' ? 'Día' : 'n/d' ) }}</p>
                        <p>Operador : {{ orden.nombreoper }}</p>
                        <p *ngIf="orden.ayudante1 !== null && orden.ayudante1 !== '' ">Ayudante-1 : {{ orden.nombreayu1 }}</p>
                        <p *ngIf="orden.ayudante2 !== null && orden.ayudante2 !== '' ">Ayudante-2 : {{ orden.nombreayu2 }}</p>
                        <p class="ion-text-wrap">Descripción: {{ orden.descripcion }}</p>
                    </ion-label>
                </ion-item>
            </ion-col>
        </ion-row>
    </ion-grid> -->

    <ion-list>
        <ion-item *ngFor="let nv of ordenes">
            <ion-grid style="margin-top: 25px; font-size: 90%;">
                <ion-row>
                    <ion-col size-lg="5" size-md="5" size="12">
                        <ion-label>
                            <h3 style="font-weight: bold; color: red">Nro. de OF: <b>{{ nv.folio }}</b></h3>
                        </ion-label>
                    </ion-col>
                    <ion-col size-lg="5" size-md="5" size="12">
                        <ion-label>
                            <h3>Fecha Emisión: <b>{{ nv.fechaemision | date:"dd/MM/yyyy" }}</b></h3>
                        </ion-label>
                    </ion-col>
                    <ion-col size-lg="7" size-md="7" size="12">
                        <ion-label>
                            <h3>Fecha Prometida : <b>{{ nv.fechaprometida | date:"dd/MM/yyyy"  }}</b></h3>
                        </ion-label>
                    </ion-col>
                    <ion-col size="12" *ngIf=" nv.observaciones !== '' ">
                        <ion-label class="ion-text-wrap">
                            <h3>Obs: <b>{{ nv.observaciones }}</b></h3>
                        </ion-label>
                    </ion-col>
                    <ion-col size-lg="5" size-md="5" size="12">
                        <ion-label>
                            <h3>Código : <b>{{ nv.codigo }}</b></h3>
                        </ion-label>
                    </ion-col>
                    <ion-col size-lg="7" size-md="7" size="12">
                        <ion-label>
                            <h3>Cantidad : <b>{{ nv.cantidad | number:"1.0-0" }}</b> {{ nv.um }}</h3>
                        </ion-label>
                    </ion-col>
                    <ion-col size="12">
                        <ion-label class="ion-text-wrap">
                            <h3>Descripción: <b>{{ nv.descripcion }}</b></h3>
                        </ion-label>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-item>
    </ion-list>


</ion-content>