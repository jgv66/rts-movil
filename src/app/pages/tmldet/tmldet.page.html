<div *ngIf=" crear === true ">
    <app-hd titulo="Tiempo Muerto por Máquina" (clickPost)="salir()"></app-hd>
</div>
<div *ngIf=" crear === false ">
    <app-hd titulo="Tiempo Muerto por Máquina" (clickPost)="salir()" (deletePost)="borrarTML()"></app-hd>
</div>

<ion-content>

    <form>
        <!-- -->
        <ion-card>
            <img src="assets/imgs/tmldet.png" alt="x1">
        </ion-card>
        <ion-list>
            <ion-list-header *ngIf=" crear === true ">
                <h2 style="font-weight: bold; color: red; margin-top: 0px;margin-bottom: 10px;">
                    <b>NUEVO REGISTRO</b>
                </h2>
            </ion-list-header>
            <ion-list-header *ngIf=" crear !== true ">
                <h2 style="font-weight: bold; color: red; margin-top: 0px;margin-bottom: 10px;">
                    <b>{{ fecha | date }}  [ {{ maquina }} - {{ nombremaq }} ]</b>
                </h2>
            </ion-list-header>
        </ion-list>
        <!--  -->
        <ion-grid>
            <ion-row>
                <ion-col size-lg="6" size-md="6" size-sm="6" size="12">
                    <ion-item>
                        <ion-label position="Fixed" style="max-width:120px;">Fecha </ion-label>
                        <ion-datetime slot="end" display-format="DD.MM.YYYY" value="fecha.toISOString()" name="fecha" [(ngModel)]="fecha" month-names="Enero, Febrero, Marzo, Abril, Mayo, Junio, Julio, Agosto, Septiembre, Octubre, Noviembre, Diciembre">
                        </ion-datetime>
                    </ion-item>
                </ion-col>
                <ion-col size-lg="6" size-md="6" size-sm="6" size="12">
                    <ion-item>
                        <ion-label position="Fixed" style="max-width:130px;">Turno</ion-label>
                        <ion-select class="turno" slot="end" type="text" [value]="turno" name="turno" [(ngModel)]="turno" mode="ios" interface="popover">
                            <ion-select-option *ngFor="let tur of turnos" [value]="tur.codigo">{{ tur.descripcion }}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size-lg="6" size-md="6" size-sm="6" size="12">
                    <ion-item>
                        <ion-label position="Fixed" style="max-width:120px;">Hora Inicio</ion-label>
                        <ion-datetime slot="end" display-format="HH:mm" picker-format="HH:mm" [value]="horaini" name="horaini" [(ngModel)]="horaini"></ion-datetime>
                    </ion-item>
                </ion-col>
                <ion-col size-lg="6" size-md="6" size-sm="6" size="12">
                    <ion-item>
                        <ion-label position="Fixed" style="max-width:120px;">Hora Termino</ion-label>
                        <ion-datetime slot="end" display-format="HH:mm" picker-format="HH:mm" [value]="horafin" name="horafin" [(ngModel)]="horafin"></ion-datetime>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size-lg="6" size-md="6" size-sm="6" size="12">
                    <ion-item>
                        <ion-label position="Fixed" style="max-width:130px;">Máquina</ion-label>
                        <!-- <ion-select [interfaceOptions]="customPopoverOptions" class="maquina" slot="end" type="text" [value]="nombremaq" name="maquina" [(ngModel)]="maquina" mode="ios" interface="popover"> -->
                        <ion-select class="maquina" slot="end" type="text" [value]="nombremaq" name="maquina" [(ngModel)]="maquina" mode="ios" interface="popover">
                            <ion-select-option *ngFor="let maq of datos.maquinas" [value]="maq.maquina">{{ maq.descripcion }}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
                <ion-col size-lg="6" size-md="6" size-sm="6" size="12">
                    <ion-item>
                        <ion-label position="Fixed" style="max-width:140px;">Operador</ion-label>
                        <ion-select class="operador" slot="end" type="text" [value]="nombreoper" name="operador" [(ngModel)]="operador" mode="ios" interface="popover">
                            <ion-select-option *ngFor="let ope of datos.operarios" [value]="ope.operario">{{ ope.nombre }}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
                <ion-col size-lg="6" size-md="6" size-sm="6" size="12">
                    <ion-item>
                        <ion-label position="Fixed" style="max-width:140px;">Ayudante-1</ion-label>
                        <ion-select class="ayudante" slot="end" type="text" [value]="nombreayu1" name="ayudante1" [(ngModel)]="ayudante1" mode="ios" interface="popover">
                            <ion-select-option *ngFor="let ope of datos.operarios" [value]="ope.operario">{{ ope.nombre }}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
                <ion-col size-lg="6" size-md="6" size-sm="6" size="12">
                    <ion-item>
                        <ion-label position="Fixed" style="max-width:140px;">Ayudante-2</ion-label>
                        <ion-select class="ayudante" slot="end" type="text" [value]="nombreayu2" name="ayudante2" [(ngModel)]="ayudante2" mode="ios" interface="popover">
                            <ion-select-option *ngFor="let ope of datos.operarios" [value]="ope.operario">{{ ope.nombre }}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
                <ion-col size-lg="6" size-md="6" size-sm="6" size="12">
                    <ion-item>
                        <ion-label position="Fixed" style="max-width:135px;">Mecánico</ion-label>
                        <ion-select class="mecanico" slot="end" type="text" [value]="nombremec" name="mecanico" [(ngModel)]="mecanico" mode="ios" interface="popover">
                            <ion-select-option *ngFor="let mec of datos.mecanicos" [value]="mec.operario">{{ mec.nombre }}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label position="floating" style="max-width:130px;">Descripción </ion-label>
                        <ion-textarea [value]="descripcion" name="descripcion" [(ngModel)]="descripcion" mode="ios"></ion-textarea>
                    </ion-item>
                </ion-col>
            </ion-row>

            <ion-progress-bar *ngIf=" buscando " type="indeterminate"></ion-progress-bar>
            <ion-button (click)="actualizar()" expand="block" color="primary" style="margin-top: 25px; margin-bottom: 25px">
                <ion-icon slot="start" name="cloud-upload-outline"></ion-icon>
                {{ ( crear === true ) ? 'Crear' : 'Actualizar' }}
            </ion-button>

        </ion-grid>
    </form>

</ion-content>